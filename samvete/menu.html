<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="panel">
        <h1>Menú de navegación</h1>
        <p class="subtitle">Accede rápidamente a todas las páginas disponibles en <code>samvete</code>.</p>
        <nav class="tree" id="tree-nav">
            <ul class="tree-root">
                <li class="folder">
                    <div class="trigger">kalckerinstitute</div>
                    <ul class="branch">
                        <li><a href="kalckerinstitute/en.kalckerinstitute.html">Kalcker Institute <span>English</span></a></li>
                        <li><a href="kalckerinstitute/es.kalckerinstitute.html">Kalcker Institute <span>Español</span></a></li>
                        <li><a href="kalckerinstitute/fr.kalckerinstitute.html">Kalcker Institute <span>Français</span></a></li>
                        <li><a href="kalckerinstitute/De.kalckerinstitute.html">Kalcker Institute <span>Deutsch</span></a></li>
                        <li><a href="kalckerinstitute/ml.kalckerinstitute.html">Kalcker Institute <span>Multi</span></a></li>
                        <li><a href="kalckerinstitute/ml.kalckerinstitute-home-pt.html">Kalcker Institute <span>Português (Home)</span></a></li>
                    </ul>
                </li>

                <li class="folder">
                    <div class="trigger">voedia</div>
                    <ul class="branch">
                        <li><a href="voedia/voedia.lat.html">Voedia <span>Lat</span></a></li>
                        <li><a href="voedia/voedia.us.html">Voedia <span>US</span></a></li>
                        <li><a href="voedia/voedia.pt.html">Voedia <span>PT</span></a></li>
                        <li><a href="voedia/voedia.it.html">Voedia <span>IT</span></a></li>
                        <li><a href="voedia/voedia.de.html">Voedia <span>DE</span></a></li>
                        <li><a href="voedia/voedia.uk.html">Voedia <span>UK</span></a></li>
                        <li><a href="voedia/voedia.fr.html">Voedia <span>FR</span></a></li>
                        <li><a href="voedia/voedia.es.html">Voedia <span>ES</span></a></li>
                    </ul>
                </li>

                <li class="folder">
                    <div class="trigger">medalab</div>
                    <ul class="branch">
                        <li><a href="medalab/medalab.es.html">Medalab <span>España</span></a></li>
                        <li><a href="medalab/medalab.mx.html">Medalab <span>México</span></a></li>
                        <li><a href="medalab/medalab.us.es.html">Medalab <span>US (ES)</span></a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </main>
    <script>
        // Toggle branches with click instead of hover
        const folders = Array.from(document.querySelectorAll('.folder'));
        folders.forEach(folder => {
            const trigger = folder.querySelector('.trigger');
            trigger.addEventListener('click', () => {
                // close others
                folders.forEach(other => {
                    if (other !== folder) other.classList.remove('open');
                });
                // toggle current
                folder.classList.toggle('open');
            });
        });

        // Highlight current page based on parent/top location
        (function highlightCurrent() {
            let currentPath = window.location.pathname;
            try {
                if (window.top && window.top.location) {
                    currentPath = window.top.location.pathname;
                }
            } catch (e) {
                if (document.referrer) {
                    currentPath = new URL(document.referrer).pathname;
                }
            }
            const links = Array.from(document.querySelectorAll('.branch li a'));
            links.forEach(link => {
                const linkPath = new URL(link.getAttribute('href'), window.location.href).pathname;
                if (linkPath === currentPath) {
                    link.classList.add('active');
                    const folder = link.closest('.folder');
                    if (folder) folder.classList.add('open');
                }
            });
        })();
    </script>
</body>
</html>
